<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<title>Add Members</title>
	<style>
.topAlignPanelColumns td {
	vertical-align: top;
}

.pf-dock-container-top {
	background-image: none;
	background-color: white;
}

.ui-dock-item-top {
	color: black;
}

.ui-dock-container-top {
	color: black;
}

.ui-selectonemenu {
	width: 100px;
}
</style>

</h:head>
<h:body>
	<!-- menu starts -->
	<ui:include src="admin_menu.xhtml" />
	<!-- menu ends -->
	<div style="width: 1200px; margin: 0 auto;">
		<div style="width: 1200px; margin: 0;">

			<!-- header starts -->
			<h2>Add Member</h2>

			<h:form id="addMemberForm">
				<p:messages id="messages" autoUpdate="true" closable="true" />
				<p:blockUI block="addMemberForm" trigger="@form:saveButton">
					<p:graphicImage value="http://www.jsclasses.org/browse/view/image/file/3815/name/loading.gif" style="width:100px"/>
				</p:blockUI>
				<p:outputPanel id="locationSelectionPanel">
					<p:panel header="Location Selection" style="margin-bottom:20px">
						<h:panelGrid columns="4" styleClass="topAlignPanelColumns" id="locationPanel">
							<h:outputLabel for="state" value="State*" />
							<p:selectOneMenu id="state" effect="fold" value="#{adminMemberBean.selectedMember.selectedState}" converter="#{adminMemberBean.stateLocationConvertor}">
								<f:selectItems value="#{adminMemberBean.states}" var="oneState" itemLabel="#{oneState.name}" itemValue="#{oneState}" />
								<p:ajax event="change" update="@form:locationSelectionPanel" listener="#{adminMemberBean.handleStateChange}" />
							</p:selectOneMenu>
							<h:outputLabel for="district" value="District*" />
							<p:selectOneMenu id="district" effect="fold" value="#{adminMemberBean.selectedMember.selectedDistrict}" converter="#{adminMemberBean.districtLocationConvertor}">
								<f:selectItems value="#{adminMemberBean.districts}" var="oneDistrict" itemLabel="#{oneDistrict.name}" itemValue="#{oneDistrict}" />
								<p:ajax event="change" update="@form:locationSelectionPanel" listener="#{adminMemberBean.handleDistrictChange}" />
							</p:selectOneMenu>
							<h:outputLabel for="ac" value="Assembly Constituency*" />
							<p:selectOneMenu id="ac" effect="fold" value="#{adminMemberBean.selectedMember.selectedAc}" converter="#{adminMemberBean.acLocationConvertor}">
								<f:selectItems value="#{adminMemberBean.acs}" var="oneAc" itemLabel="#{oneAc.name}" itemValue="#{oneAc}" />
								<p:ajax event="change" update="@form:locationSelectionPanel" listener="#{adminMemberBean.handleAcChange}" />
							</p:selectOneMenu>
							<h:outputLabel for="pc" value="Parliament Constituency*" />
							<p:selectOneMenu id="pc" effect="fold" value="#{adminMemberBean.selectedMember.selectedPc}" converter="#{adminMemberBean.pcLocationConvertor}">
								<f:selectItems value="#{adminMemberBean.pcs}" var="onePc" itemLabel="#{onePc.name}" itemValue="#{onePc}" />
								<p:ajax event="change" update="@form:locationSelectionPanel" listener="#{adminMemberBean.handlePcChange}" />
							</p:selectOneMenu>
						</h:panelGrid>
					</p:panel>
				</p:outputPanel>
				<p:outputPanel>
				<p:panel header="Location Selection" style="margin-bottom:20px">
					<h:panelGrid columns="2" styleClass="topAlignPanelColumns" id="memberPanel">
						<h:outputLabel value="Name" />
						<p:inputText value="#{adminMemberBean.selectedMember.name}" id="name" required="true" />
						<h:outputLabel value="Reference Mobile Number" />
						<p:inputText value="#{adminMemberBean.selectedMember.referenceMobile}" id="referenceMobile" required="false" />
						
					</h:panelGrid>
				</p:panel>
				</p:outputPanel>
				<p:commandButton id="saveButton" update="@form" value="Save" actionListener="#{adminMemberBean.saveMember}" ajax="true" />
			</h:form>
			<!-- header ends -->


			<!-- footer starts -->
			<div class="footerWrapper">
				<div class="container_24">
					<div class="grid_24 panel footer">
						Copyright &copy; 2016 <a href="#">www.swarajabhiyan.org</a>. All Rights Reserved.
					</div>
				</div>
				<div class="clear"></div>
			</div>
			<!-- footer ends -->
			<br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br> <br></br>

		</div>
	</div>

</h:body>
</html>
